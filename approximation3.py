import numpy as np
import matplotlib.pyplot as plt
# Задаем данные
x = np.array([0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,256,258,260,262,264,266,268,270,272,274,276,278,280,282,284,286,288])
y = np.array([183,180,177,172,164,156,150,145,141,138,136,133,132,130,129,126,124,121,116,110,100,90,82,74,70,66,62,58,53,49,45,42,39,36,33,31,28,26,24,22,20,18,17,15,14,13,12,11,10,9,8,7,6,6,5,4,3,2,2,1,1,0,0,0,1,1,1,2,2,2,3,3,3,4,3,3,3,2,2,1,0,0,1,2,4,7,10,14,17,20,22,22,23,22,22,21,20,18,16,14,12,10,7,5,4,4,5,6,7,9,11,13,15,17,19,22,25,28,32,35,39,43,47,50,54,57,62,66,70,75,80,85,90,95,100,105,111,117,123,131,138,146,157,168,183])
# Выбираем случайные три точки
random_indices = np.random.choice(len(x), size=5, replace=False)
x_subset = x[random_indices]
y_subset = y[random_indices]
# Аппроксимация методом наименьших квадратов (полином второй степени)
coefficients = np.polyfit(x_subset, y_subset, 2)
polynomial = np.poly1d(coefficients)
# Генерируем значения x для построения графика
x_fit = np.linspace(min(x), max(x), 100)
y_fit = polynomial(x_fit)
# Визуализация результатов
plt.plot(x, y, label='Исходные данные', color='black')
plt.scatter(x_subset, y_subset, label='5 точек', color='green')
plt.plot(x_fit, y_fit, label='Аппроксимация МНК', color='green')
plt.legend()
plt.xlabel('X')
plt.ylabel('Y')
plt.title('Аппроксимация методом наименьших квадратов по 5 точкам')
plt.show()

